# WhatsApp è¨Šæ¯æ¨¡æ¿ç®¡ç†ç³»çµ±

å°ˆæ¥­çš„å¯µç‰©å–„çµ‚æœå‹™ WhatsApp è¨Šæ¯æ¨¡æ¿ç®¡ç†ç³»çµ±ï¼Œæä¾›é›™èªæ”¯æ´å’ŒéŸ¿æ‡‰å¼è¨­è¨ˆã€‚

## å°ˆæ¡ˆç‰¹è‰²

- ğŸš€ **é›™èªæ”¯æ´**: ç¹é«”ä¸­æ–‡å’Œè‹±æ–‡é›™èªé¡¯ç¤º
- ğŸ” **æ™ºèƒ½æœç´¢**: å¿«é€Ÿæœç´¢å’Œéæ¿¾æ¨¡æ¿
- ğŸ“± **éŸ¿æ‡‰å¼è¨­è¨ˆ**: æ”¯æ´å„ç¨®è¨­å‚™å’Œè¢å¹•å°ºå¯¸
- ğŸ¨ **ç¾ä»£åŒ– UI**: ç¾è§€ä¸”æ˜“ç”¨çš„ä½¿ç”¨è€…ä»‹é¢
- ğŸ“Š **æ•¸æ“šç®¡ç†**: å®Œæ•´çš„æ¨¡æ¿ç®¡ç†å’ŒåŒ¯å‡ºåŠŸèƒ½
- ğŸ”§ **æ¨¡çµ„åŒ–æ¶æ§‹**: æ˜“æ–¼ç¶­è­·å’Œæ“´å±•çš„ç¨‹å¼ç¢¼çµæ§‹
- ğŸ’¾ **æŒä¹…åŒ–ä¿å­˜**: çœŸæ­£çš„è³‡æ–™æŒä¹…åŒ–ï¼Œæ”¯æ´ç·¨è¼¯å¾Œä¿å­˜

## æŠ€è¡“æ¶æ§‹

### å‰ç«¯æŠ€è¡“
- **HTML5**: èªç¾©åŒ–æ¨™è¨˜
- **CSS3**: ç¾ä»£åŒ–æ¨£å¼å’Œå‹•ç•«
- **JavaScript (ES6+)**: æ¨¡çµ„åŒ–ç¨‹å¼è¨­è¨ˆ
- **Font Awesome**: åœ–æ¨™å­—é«”

### å¾Œç«¯æŠ€è¡“
- **PHP**: ä¼ºæœå™¨ç«¯ç¨‹å¼èªè¨€
- **WordPress**: å…§å®¹ç®¡ç†ç³»çµ±æ ¸å¿ƒ
- **MySQL**: è³‡æ–™åº«ç®¡ç†ç³»çµ±

### éƒ¨ç½²ç’°å¢ƒ
- **Cloudways**: é›²ç«¯è¨—ç®¡å¹³å°
- **GitHub**: ç‰ˆæœ¬æ§åˆ¶å’Œå”ä½œ
- **Git**: åˆ†æ•£å¼ç‰ˆæœ¬æ§åˆ¶

## å°ˆæ¡ˆçµæ§‹

```
wati_automation/
â”œâ”€â”€ api/                     # PHP API ç«¯é»
â”‚   â”œâ”€â”€ save-template.php    # æ¨¡æ¿ä¿å­˜ API
â”‚   â”œâ”€â”€ get-templates.php    # æ¨¡æ¿ç²å– API
â”‚   â””â”€â”€ php-version-check.php # PHP ç’°å¢ƒæª¢æŸ¥
â”œâ”€â”€ js/                     # JavaScript æ¨¡çµ„
â”‚   â”œâ”€â”€ components/         # å‰ç«¯çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ TemplateManager.js    # æ¨¡æ¿ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ TemplateDetail.js     # æ¨¡æ¿è©³æƒ…
â”‚   â”‚   â”œâ”€â”€ SearchManager.js      # æœç´¢åŠŸèƒ½
â”‚   â”‚   â””â”€â”€ ApprovalManager.js    # å¯©æ ¸ç®¡ç†
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•¸
â”‚   â””â”€â”€ data/              # æ•¸æ“šè™•ç†
â”œâ”€â”€ data/                  # æ•¸æ“šæª”æ¡ˆ
â”‚   â”œâ”€â”€ templates/         # æ¨¡æ¿æ•¸æ“š
â”‚   â””â”€â”€ logs/              # æ“ä½œæ—¥èªŒ
â”œâ”€â”€ css/                   # æ¨£å¼æª”æ¡ˆ
â”œâ”€â”€ docs/                  # æ–‡æª”
â”œâ”€â”€ local-test-server.js   # æœ¬åœ°é–‹ç™¼ä¼ºæœå™¨
â”œâ”€â”€ cloudways-debug.html   # Cloudways è¨ºæ–·å·¥å…·
â”œâ”€â”€ debug-save-issue.html  # æœ¬åœ°è¨ºæ–·å·¥å…·
â””â”€â”€ package.json           # å°ˆæ¡ˆé…ç½®
```

## åŠŸèƒ½æ¨¡çµ„

### 1. æ¨¡æ¿ç®¡ç† (TemplateManager)
- æ¨¡æ¿åˆ—è¡¨é¡¯ç¤º
- æ¨¡æ¿æœç´¢å’Œéæ¿¾
- æ¨¡æ¿æ–°å¢å’Œç·¨è¼¯
- æ¨¡æ¿åŒ¯å‡ºåŠŸèƒ½
- **æŒä¹…åŒ–ä¿å­˜**: ç·¨è¼¯å¾Œè³‡æ–™çœŸæ­£ä¿å­˜åˆ°ä¼ºæœå™¨

### 2. æœç´¢ç®¡ç† (SearchManager)
- å³æ™‚æœç´¢
- åˆ†é¡éæ¿¾
- èªè¨€åˆ‡æ›

### 3. ä½¿ç”¨çµ±è¨ˆ (UsageManager)
- ä½¿ç”¨é »ç‡çµ±è¨ˆ
- ç†±é–€æ¨¡æ¿æ’è¡Œ
- ä½¿ç”¨è¶¨å‹¢åˆ†æ

### 4. ç‰ˆæœ¬ç®¡ç† (VersionManager)
- æ¨¡æ¿ç‰ˆæœ¬æ§åˆ¶
- ç‰ˆæœ¬æ¯”è¼ƒåŠŸèƒ½
- ç‰ˆæœ¬å›æ»¾

### 5. å¯©æ ¸ç®¡ç† (ApprovalManager)
- æ¨¡æ¿å¯©æ ¸æµç¨‹
- å¯©æ ¸ç‹€æ…‹è¿½è¹¤
- å¯©æ ¸æ­·å²è¨˜éŒ„

## API æ–‡æª”

### ä¿å­˜æ¨¡æ¿ API
**ç«¯é»**: `POST /api/save-template.php`

**åŠŸèƒ½**: ä¿å­˜æˆ–æ›´æ–°æ¨¡æ¿è³‡æ–™

**è«‹æ±‚æ ¼å¼**:
```json
{
  "id": "æ¨¡æ¿ID",
  "code": "æ¨¡æ¿ä»£ç¢¼",
  "category": "åˆ†é¡",
  "title": {
    "zh": "ç¹é«”ä¸­æ–‡æ¨™é¡Œ",
    "en": "English Title"
  },
  "description": {
    "zh": "ç¹é«”ä¸­æ–‡æè¿°",
    "en": "English Description"
  },
  "content": {
    "zh": "ç¹é«”ä¸­æ–‡å…§å®¹",
    "en": "English Content"
  },
  "status": "active|draft|inactive"
}
```

**éŸ¿æ‡‰æ ¼å¼**:
```json
{
  "success": true,
  "message": "æ¨¡æ¿ä¿å­˜æˆåŠŸ",
  "data": {
    "templateId": "æ¨¡æ¿ID",
    "totalTemplates": 98,
    "lastUpdated": "2025-01-27T10:30:00Z"
  }
}
```

### ç²å–æ¨¡æ¿ API
**ç«¯é»**: `GET /api/get-templates.php`

**åŠŸèƒ½**: ç²å–æ¨¡æ¿åˆ—è¡¨ï¼Œæ”¯æ´éæ¿¾å’Œæœç´¢

**æŸ¥è©¢åƒæ•¸**:
- `category`: åˆ†é¡éæ¿¾
- `status`: ç‹€æ…‹éæ¿¾
- `search`: æœç´¢é—œéµå­—
- `limit`: åˆ†é é™åˆ¶
- `offset`: åˆ†é åç§»

**éŸ¿æ‡‰æ ¼å¼**:
```json
{
  "success": true,
  "data": {
    "metadata": {
      "totalTemplates": 98,
      "categories": {
        "ic": 20,
        "ac": 20
      },
      "lastUpdated": "2025-01-27T10:30:00Z"
    },
    "templates": [...]
  }
}
```

## è³‡æ–™ä¿å­˜æ©Ÿåˆ¶

### å•é¡Œè§£æ±º
- **å•é¡Œ**: ç·¨è¼¯æ¨¡æ¿å¾Œé‡æ–°æ•´ç†é é¢ï¼Œæ›´æ–°æœƒæ¶ˆå¤±
- **åŸå› **: åŸç³»çµ±åªä½¿ç”¨ localStorageï¼Œæ²’æœ‰åŒæ­¥åˆ°ä¼ºæœå™¨
- **è§£æ±ºæ–¹æ¡ˆ**: å¯¦ç¾çœŸæ­£çš„æŒä¹…åŒ–ä¿å­˜

### æ–°çš„ä¿å­˜æµç¨‹
1. **ç·¨è¼¯æ¨¡æ¿** â†’ å‰ç«¯é©—è­‰
2. **ç™¼é€ API è«‹æ±‚** â†’ å¾Œç«¯è™•ç†
3. **ä¿å­˜åˆ°æª”æ¡ˆ** â†’ æŒä¹…åŒ–å­˜å„²
4. **å‰µå»ºå‚™ä»½** â†’ è³‡æ–™å®‰å…¨
5. **è¨˜éŒ„æ—¥èªŒ** â†’ æ“ä½œè¿½è¹¤
6. **æ›´æ–°å‰ç«¯** â†’ å³æ™‚åé¥‹

### å‚™ç”¨æ©Ÿåˆ¶
- API å¤±æ•—æ™‚è‡ªå‹•å›é€€åˆ°éœæ…‹æª”æ¡ˆè¼‰å…¥
- æœ¬åœ° localStorage ä½œç‚ºè‡¨æ™‚ç·©å­˜
- å®Œæ•´çš„éŒ¯èª¤è™•ç†å’Œç”¨æˆ¶æç¤º

## éƒ¨ç½²èªªæ˜

### æœ¬åœ°é–‹ç™¼ç’°å¢ƒ
1. å…‹éš†å°ˆæ¡ˆï¼š
   ```bash
   git clone https://github.com/HKCalvinYau/wati_automation.git
   cd wati_automation
   ```

2. å®‰è£ä¾è³´ï¼š
   ```bash
   npm install
   ```

3. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ï¼š
   ```bash
   npm start
   # æˆ–
   npm run dev
   ```

4. è¨ªå•æ‡‰ç”¨ç¨‹å¼ï¼š
   - ä¸»é é¢: http://localhost:3000
   - è¨ºæ–·å·¥å…·: http://localhost:3000/debug-save-issue.html
   - Cloudways è¨ºæ–·: http://localhost:3000/cloudways-debug.html

### ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½² (Cloudways)

#### æ–¹æ³•ä¸€ï¼šGit éƒ¨ç½²ï¼ˆæ¨è–¦ï¼‰
```bash
# æ·»åŠ  Cloudways é ç«¯å€‰åº«
git remote add cloudways git@git.cloudways.com:ywmzzfkesa.git

# æ¨é€ä»£ç¢¼
git push cloudways main
```

#### æ–¹æ³•äºŒï¼šæ‰‹å‹•éƒ¨ç½²
1. ä½¿ç”¨ Cloudways File Manager ä¸Šå‚³æª”æ¡ˆ
2. æˆ–ä½¿ç”¨ SFTP å·¥å…·é€£æ¥ä¼ºæœå™¨
3. ç¢ºä¿æª”æ¡ˆæ¬Šé™æ­£ç¢ºè¨­ç½®

#### éƒ¨ç½²å¾Œæª¢æŸ¥
1. è¨ªå• `https://your-domain.com/cloudways-debug.html`
2. åŸ·è¡Œå®Œæ•´è¨ºæ–·æ¸¬è©¦
3. æª¢æŸ¥ API ç«¯é»æ˜¯å¦æ­£å¸¸å·¥ä½œ
4. æ¸¬è©¦æ¨¡æ¿ä¿å­˜åŠŸèƒ½

### é–‹ç™¼å·¥å…·

#### è¨ºæ–·å·¥å…·
- **æœ¬åœ°è¨ºæ–·**: `debug-save-issue.html` - æ¸¬è©¦æœ¬åœ°é–‹ç™¼ç’°å¢ƒ
- **Cloudways è¨ºæ–·**: `cloudways-debug.html` - æ¸¬è©¦ç”Ÿç”¢ç’°å¢ƒ
- **PHP ç‰ˆæœ¬æª¢æŸ¥**: `php-version-check.php` - æª¢æŸ¥ PHP ç’°å¢ƒ

#### æ¸¬è©¦è…³æœ¬
```bash
# æ¸¬è©¦ API ç«¯é»
npm run test:api

# é©—è­‰æ¨¡æ¿è³‡æ–™
npm run validate

# æ ¼å¼åŒ–ä»£ç¢¼
npm run format

# æª¢æŸ¥ä»£ç¢¼å“è³ª
npm run lint
```

### æ•…éšœæ’é™¤

#### å¸¸è¦‹å•é¡Œ
1. **ä¿å­˜åŠŸèƒ½ç„¡æ³•å·¥ä½œ**
   - æª¢æŸ¥ API ç«¯é»æ˜¯å¦å¯è¨ªå•
   - ç¢ºèªæª”æ¡ˆæ¬Šé™è¨­ç½®
   - æŸ¥çœ‹ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤

2. **PHP ç‰ˆæœ¬å•é¡Œ**
   - å»ºè­°ä½¿ç”¨ PHP 8.1 æˆ– 8.2
   - æœ€ä½è¦æ±‚ PHP 7.4

3. **æª”æ¡ˆæ¬Šé™å•é¡Œ**
   - `data/templates/` ç›®éŒ„éœ€è¦å¯«å…¥æ¬Šé™
   - `data/logs/` ç›®éŒ„éœ€è¦å¯«å…¥æ¬Šé™

#### æ—¥èªŒæª”æ¡ˆ
- æ¨¡æ¿æ“ä½œæ—¥èªŒ: `data/logs/template-updates.log`
- PHP éŒ¯èª¤æ—¥èªŒ: æª¢æŸ¥ä¼ºæœå™¨éŒ¯èª¤æ—¥èªŒ
- ç€è¦½å™¨æ§åˆ¶å°: æŸ¥çœ‹ JavaScript éŒ¯èª¤

### ç’°å¢ƒè¦æ±‚

#### æœ¬åœ°é–‹ç™¼
- Node.js >= 14.0.0
- npm >= 6.0.0

#### ç”Ÿç”¢ç’°å¢ƒ
- PHP >= 7.4 (æ¨è–¦ 8.1+)
- Apache/Nginx
- æ”¯æ´ JSON å’Œæª”æ¡ˆå¯«å…¥æ¬Šé™

### å°ˆæ¡ˆçµæ§‹èªªæ˜

```
wati_automation/
â”œâ”€â”€ api/                     # PHP API ç«¯é»
â”‚   â”œâ”€â”€ save-template.php    # æ¨¡æ¿ä¿å­˜ API
â”‚   â”œâ”€â”€ get-templates.php    # æ¨¡æ¿ç²å– API
â”‚   â””â”€â”€ php-version-check.php # PHP ç’°å¢ƒæª¢æŸ¥
â”œâ”€â”€ js/                     # JavaScript æ¨¡çµ„
â”‚   â”œâ”€â”€ components/         # å‰ç«¯çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ TemplateManager.js    # æ¨¡æ¿ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ TemplateDetail.js     # æ¨¡æ¿è©³æƒ…
â”‚   â”‚   â”œâ”€â”€ SearchManager.js      # æœç´¢åŠŸèƒ½
â”‚   â”‚   â””â”€â”€ ApprovalManager.js    # å¯©æ ¸ç®¡ç†
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•¸
â”‚   â””â”€â”€ data/              # æ•¸æ“šè™•ç†
â”œâ”€â”€ data/                  # æ•¸æ“šæª”æ¡ˆ
â”‚   â”œâ”€â”€ templates/         # æ¨¡æ¿æ•¸æ“š
â”‚   â””â”€â”€ logs/              # æ“ä½œæ—¥èªŒ
â”œâ”€â”€ css/                   # æ¨£å¼æª”æ¡ˆ
â”œâ”€â”€ docs/                  # æ–‡æª”
â”œâ”€â”€ local-test-server.js   # æœ¬åœ°é–‹ç™¼ä¼ºæœå™¨
â”œâ”€â”€ cloudways-debug.html   # Cloudways è¨ºæ–·å·¥å…·
â”œâ”€â”€ debug-save-issue.html  # æœ¬åœ°è¨ºæ–·å·¥å…·
â””â”€â”€ package.json           # å°ˆæ¡ˆé…ç½®
```

## é…ç½®èªªæ˜

### WordPress é…ç½®
- **è³‡æ–™åº«**: MySQL 8.0
- **PHP ç‰ˆæœ¬**: 8.1+
- **å¿«å–**: Redis Object Cache
- **SSL**: å¼·åˆ¶ HTTPS

### è‡ªå®šç¾©é¦–é é…ç½®
- å„ªå…ˆé¡¯ç¤ºè‡ªå®šç¾© `index.html`
- WordPress ä½œç‚ºå¾Œç«¯ API
- éœæ…‹æª”æ¡ˆå¿«å–å„ªåŒ–

### API é…ç½®
- **æª”æ¡ˆæ¬Šé™**: ç¢ºä¿ `data/templates/` ç›®éŒ„å¯å¯«
- **æ—¥èªŒç›®éŒ„**: è‡ªå‹•å‰µå»º `data/logs/` ç›®éŒ„
- **å‚™ä»½æ©Ÿåˆ¶**: è‡ªå‹•å‚™ä»½åˆ° `.backup.json` æª”æ¡ˆ

## æ›´æ–°æ—¥èªŒ

### v2.1.0 (2025-01-27)
- âœ… **é‡å¤§ä¿®å¾©**: å¯¦ç¾çœŸæ­£çš„è³‡æ–™æŒä¹…åŒ–ä¿å­˜
- âœ… å‰µå»º PHP API ç«¯é»è™•ç†è³‡æ–™ä¿å­˜
- âœ… æ›´æ–°å‰ç«¯ä¿å­˜é‚è¼¯ä½¿ç”¨ API
- âœ… æ·»åŠ è³‡æ–™å‚™ä»½å’Œæ—¥èªŒè¨˜éŒ„
- âœ… å¯¦ç¾éŒ¯èª¤è™•ç†å’Œç”¨æˆ¶å›é¥‹
- âœ… æ·»åŠ é‡æ–°è¼‰å…¥åŠŸèƒ½
- âœ… æ›´æ–°æ–‡æª”å’Œ API èªªæ˜

### v2.0.0 (2024-06-19)
- âœ… æ•´åˆ WordPress æ ¸å¿ƒæª”æ¡ˆ
- âœ… é…ç½®è‡ªå®šç¾©é¦–é å„ªå…ˆé¡¯ç¤º
- âœ… å„ªåŒ– .htaccess é‡å¯«è¦å‰‡
- âœ… æ›´æ–° .gitignore é…ç½®
- âœ… å®Œå–„å°ˆæ¡ˆæ–‡æª”

### v1.0.0 (2024-06-18)
- âœ… åˆå§‹å°ˆæ¡ˆå»ºç«‹
- âœ… åŸºæœ¬åŠŸèƒ½å¯¦ç¾
- âœ… GitHub å€‰åº«è¨­ç½®
- âœ… Cloudways éƒ¨ç½²é…ç½®

## è²¢ç»æŒ‡å—

1. Fork å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤è®Šæ›´ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿ Pull Request

## æˆæ¬Šæ¢æ¬¾

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

## è¯çµ¡è³‡è¨Š

- **é–‹ç™¼è€…**: Calvin Yau
- **Email**: [è¯çµ¡éƒµç®±]
- **å°ˆæ¡ˆé€£çµ**: https://github.com/HKCalvinYau/wati_automation

---

**æ³¨æ„**: æœ¬ç³»çµ±å°ˆç‚ºå¯µç‰©å–„çµ‚æœå‹™è¨­è¨ˆï¼ŒåŒ…å«å°ˆæ¥­çš„å®¢æˆ¶æœå‹™æ¨¡æ¿å’Œé›™èªæ”¯æ´åŠŸèƒ½ã€‚ç¾åœ¨æ”¯æ´çœŸæ­£çš„è³‡æ–™æŒä¹…åŒ–ä¿å­˜ï¼Œç·¨è¼¯å¾Œä¸æœƒå†ä¸Ÿå¤±è³‡æ–™ã€‚
